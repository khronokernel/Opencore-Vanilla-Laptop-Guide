
<!DOCTYPE HTML>
<html lang="" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>General Troubleshooting Â· GitBook</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.3">
        
        
        
    
    
    <link rel="stylesheet" href="../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-search-plus/search.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
        <link rel="stylesheet" href="../styles/website.css">
        
    

    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="debug.html" />
    
    
    <link rel="prev" href="../post-install/security.html" />
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="../">
            
                <a href="../">
            
                    
                    OpenCore Laptop Guide
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="../installer-guide/opencore-efi.html">
            
                <a href="../installer-guide/opencore-efi.html">
            
                    
                    Creating the USB
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.1" data-path="../installer-guide/mac-install.html">
            
                <a href="../installer-guide/mac-install.html">
            
                    
                    macOS install
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2" data-path="../installer-guide/winblows-install.html">
            
                <a href="../installer-guide/winblows-install.html">
            
                    
                    Windows install
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3" data-path="../ktext.html">
            
                <a href="../ktext.html">
            
                    
                    Gathering files
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">Intel Config.plist</li>
        
        
    
        <li class="chapter " data-level="2.1" data-path="../config.plist/ivy-bridge.html">
            
                <a href="../config.plist/ivy-bridge.html">
            
                    
                    Ivy Bridge
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.2" data-path="../config.plist/haswell.html">
            
                <a href="../config.plist/haswell.html">
            
                    
                    Haswell
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.3" data-path="../config.plist/broadwell.html">
            
                <a href="../config.plist/broadwell.html">
            
                    
                    Broadwell
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.4" data-path="../config.plist/skylake.html">
            
                <a href="../config.plist/skylake.html">
            
                    
                    Skylake
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.5" data-path="../config.plist/kaby-lake.html">
            
                <a href="../config.plist/kaby-lake.html">
            
                    
                    Kaby Lake
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.6" data-path="../config.plist/coffee-lake-8th-gen.html">
            
                <a href="../config.plist/coffee-lake-8th-gen.html">
            
                    
                    Coffee Lake(8th Gen)
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.7" data-path="../config.plist/coffee-lake-9th-gen.html">
            
                <a href="../config.plist/coffee-lake-9th-gen.html">
            
                    
                    Coffee Lake(9th Gen)
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.8" data-path="../config.plist/comet-lake.html">
            
                <a href="../config.plist/comet-lake.html">
            
                    
                    Comet Lake
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">Post Install</li>
        
        
    
        <li class="chapter " data-level="3.1" data-path="../post-install/nvram.html">
            
                <a href="../post-install/nvram.html">
            
                    
                    Emulated NVRAM
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.2" data-path="../post-install/spoof.html">
            
                <a href="../post-install/spoof.html">
            
                    
                    Disabling GPU
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.3" data-path="../post-install/security.html">
            
                <a href="../post-install/security.html">
            
                    
                    Security and FileVault
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">Troubleshooting</li>
        
        
    
        <li class="chapter active" data-level="4.1" data-path="troubleshooting.html">
            
                <a href="troubleshooting.html">
            
                    
                    General Troubleshooting
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.2" data-path="debug.html">
            
                <a href="debug.html">
            
                    
                    OpenCore Debugging
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">Extras</li>
        
        
    
        <li class="chapter " data-level="5.1" data-path="../extras/legacy.html">
            
                <a href="../extras/legacy.html">
            
                    
                    Legacy Install
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.2" data-path="../extras/gpu-patches.html">
            
                <a href="../extras/gpu-patches.html">
            
                    
                    GPU Patching
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.3" data-path="../extras/acpi.html">
            
                <a href="../extras/acpi.html">
            
                    
                    Getting started with ACPI
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.4" data-path="verbose.html">
            
                <a href="verbose.html">
            
                    
                    Fixing Resolution and Verbose
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.5" data-path="../extras/kalsr-fix.html">
            
                <a href="../extras/kalsr-fix.html">
            
                    
                    Fixing KALSR slide values
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.6" data-path="../extras/msr-lock.html">
            
                <a href="../extras/msr-lock.html">
            
                    
                    Fixing CFG Lock
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.7" data-path="../post-install/iservices.html">
            
                <a href="../post-install/iservices.html">
            
                    
                    Fixing iServices
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">Misc</li>
        
        
    
        <li class="chapter " data-level="6.1" data-path="../misc/credit.html">
            
                <a href="../misc/credit.html">
            
                    
                    Credit
            
                </a>
            

            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href=".." >General Troubleshooting</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div class="search-plus" id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h1 id="general-troubleshooting">General Troubleshooting</h1>
<p>Last edited: Febuary 1, 2020</p>
<p>This section is for those having issues booting either OpenCore, macOS or having issues inside macOS. This page is devided up into a couple sections:</p>
<ul>
<li><a href="troubleshooting.html#opencore-booting">OpenCore booting issues</a><ul>
<li>This is anytime before or during the loading of the macOS kernel</li>
</ul>
</li>
<li><a href="troubleshooting.html#macos-booting">macOS booting issues</a><ul>
<li>Anytime between the kernel loading and installing macOS</li>
</ul>
</li>
<li><a href="troubleshooting.html#macos-post-install">macOS post-install issues</a><ul>
<li>Anytime after macOS is installed</li>
</ul>
</li>
<li><a href="troubleshooting.html#other-issues">Other issues</a><ul>
<li>This includes troubleshooting tools used for making your USB, fixing cosmetics in OpenCore, etc</li>
</ul>
</li>
</ul>
<p>While still a work in progress, laptop users wanting to convert an existing Clover install can see the  <a href="https://github.com/khronokernel/Opencore-Vanilla-Desktop-Guide/blob/master/clover-conversion" target="_blank">Clover to OpenCore conversion</a> for more info</p>
<h1 id="opencore-booting">OpenCore booting</h1>
<ul>
<li>Stuck on <code>no vault provided!</code></li>
<li>Stuck on EndRandomSeed</li>
<li>Can&apos;t see macOS partitions</li>
<li>Black screen after picker</li>
<li>Stuck on <code>OC: OcAppleGenericInput... - Success</code></li>
<li>Stuck on <code>OCB: OcScanForBootEntries failure - Not Found</code></li>
<li>Stuck on <code>OCABC: Memory pool allocation failure - Not Found</code></li>
<li>Stuck on <code>OCS: No schema for DSDT, KernelAndKextPatch, RtVariable, SMBIOS, SystemParameters...</code></li>
<li>Stuck on <code>OC: Driver XXX.efi at 0 cannot be found</code></li>
<li>Stuck on <code>Buffer Too Small</code></li>
<li>Stuck on <code>Plist only kext has CFBundleExecutable key</code></li>
<li>Receiving <code>Failed to parse real field of type 1</code></li>
<li>Stuck after selection macOS partition on OpenCore</li>
<li>Can&apos;t select anything in the picker</li>
<li>Stuck on <code>This version of Mac OS X is not supported: Reason Mac...</code></li>
<li><code>Couldn&apos;t allocate runtime area</code> errors?</li>
<li>SSDTs not being added</li>
<li>Booting OpenCore reboots to BIOS</li>
</ul>
<h2 id="stuck-on-no-vault-provided">Stuck on <code>no vault provided!</code></h2>
<p>Turn the following off under <code>Misc -&gt; Security</code>:</p>
<ul>
<li><code>RequireSignature</code></li>
<li><code>RequireVault</code></li>
</ul>
<p>If you have already executed the commands listed in the <a href="https://github.com/acidanthera/OpenCorePkg/blob/master/Docs/Configuration.pdf" target="_blank">OpenCore Reference Manual</a> under <strong>8.5 Security Properties</strong>, <code>5. RequireVault</code>, you&apos;ll need to restore your <code>OpenCore.efi</code> file.</p>
<h2 id="stuck-on-endrandomseed">Stuck on EndRandomSeed</h2>
<p>Couple problems:</p>
<ul>
<li><code>ProvideConsoleGop</code> is likely missing as this is needed for transitioning to the next screen, this was originally part of AptioMemoryFix but is now within OpenCore as this quirk. Can be found under UEFI -&gt; Quirks</li>
<li>Missing <a href="https://github.com/AMD-OSX/AMD_Vanilla/tree/opencore" target="_blank">kernel patches</a>(only applies for AMD CPUs, make sure they&apos;re Opencore patches and not Clover. Clover uses <code>MatchOS</code> while OpenCore has <code>MinKernel</code> and <code>Maxkernel</code>)</li>
</ul>
<p>Another possible problem is that some users either forget or cannot disable CFG-Lock in the BIOS(specifically relating to a locked 0xE2 MSR bit for power management, obviously much safer to turn off CFG-Lock). <strong>Do note this is for Intel users only, not AMD.</strong> When this happens, there&apos;s a couple of possible fixes:</p>
<ul>
<li><a href="https://khronokernel-2.gitbook.io/opencore-vanilla-desktop-guide/post-install/msr-lock" target="_blank">Fixing CFG Lock</a> </li>
<li>Enable <code>AppleXcpmCfgLock</code> and <code>AppleCpuPmCfgLock</code>, this disables <code>PKG_CST_CNFIG_CONTROL</code> within the XNU and AppleIntelCPUPowerManagment respectively. Not recommended long term solution as this can cause instability.</li>
</ul>
<p>Another other possible problem is IRQ conflicts, Clover has plenty of different fixes that it can apply without you directly setting them. This makes it much more difficult when converting from Clover to OpenCore though luckily CorpNewt&apos;s also got a fix: <a href="https://github.com/corpnewt/SSDTTime" target="_blank">SSDTTime</a>&apos;s FixHPET option</p>
<h2 id="cant-see-macos-partitions">Can&apos;t see macOS partitions</h2>
<p>Main things to check:</p>
<ul>
<li>ScanPolicy set to <code>0</code> to show all drives</li>
<li>Have the proper firmware drivers such as ApfsDriverLoader and HFSPlus(or VBoxHfs)</li>
<li>Enable <code>AvoidHighAlloc</code> if you&apos;re running a network recovery install</li>
</ul>
<h2 id="black-screen-after-picker">Black screen after picker</h2>
<p>This is due to missing ConsoleGOP, enable it under your config:</p>
<ul>
<li><code>UEFI -&gt; Quriks -&gt; ProvideConsoleGOP</code></li>
</ul>
<p>If this doesn&apos;t help, grab the <a href="https://github.com/acidanthera/OpenCorePkg/releases" target="_blank">debug versions</a> of <code>OpenCore.efi</code> and <code>BOOTx64.efi</code> and replace them in your EFI. This will show much more info on where your hack is actually getting stuck.</p>
<h2 id="stuck-on-oc-ocapplegenericinput---success">Stuck on <code>OC: OcAppleGenericInput... - Success</code></h2>
<p>So this isn&apos;t actually an error, instead OpenCore isn&apos;t showing you all the debug info. This is right before/while the kernel is being loaded so things we need to check for:</p>
<ul>
<li>Intel:<ul>
<li>CFG-Lock disabled in the BIOS <strong>or</strong> <code>AppleCpuPmCfgLock</code> and <code>AppleCpuPmCfgLock</code> enabled under Kernel -&gt; Quirks</li>
</ul>
</li>
<li>AMD:<ul>
<li>Verify you have added the correct kernel patches to your config(remember, OpenCore patches use <code>MinKernel</code> and <code>MaxKernel</code> while Clover has <code>MatchOS</code>)<ul>
<li><a href="https://github.com/khronokernel/Opencore-Vanilla-Desktop-Guide/blob/master/extra-files/17h-patches.plist.zip" target="_blank">Ryzen/Threadripper(17h)</a></li>
<li><a href="https://github.com/khronokernel/Opencore-Vanilla-Desktop-Guide/blob/master/extra-files/15h-16h-patches.plist.zip" target="_blank">Bulldozer/Jaguar(15h/16h)</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<p>If this doesn&apos;t help, grab the <a href="https://github.com/acidanthera/OpenCorePkg/releases" target="_blank">debug versions</a> of <code>OpenCore.efi</code> and <code>BOOTx64.efi</code> and replace them in your EFI. This will show much more info on where your hack is actually getting stuck.</p>
<h2 id="stuck-on-ocb-ocscanforbootentries-failure---not-found">Stuck on <code>OCB: OcScanForBootEntries failure - Not Found</code></h2>
<p>This is due to OpenCore being unable to find any drives with the current ScanPolicy, setting to <code>0</code> will allow all boot options to be shown</p>
<ul>
<li><code>Misc -&gt; Secuirty -&gt; ScanPolicy -&gt; 0</code></li>
</ul>
<h2 id="stuck-on-ocabc-memory-pool-allocation-failure---not-found">Stuck on <code>OCABC: Memory pool allocation failure - Not Found</code></h2>
<p>This is due to either incorrect BIOS settings and/or incorrect Booter values. Make sure config.plist -&gt; Booter -&gt; Quirks is correct and verify your BIOS settings:</p>
<ul>
<li>Above4GDecoding is Enabled</li>
<li>CSM is Disabled(Enabling Windows8.1/10 WHQL Mode can do the same on some boards)</li>
</ul>
<h2 id="stuck-on-ocs-no-schema-for-dsdt-kernelandkextpatch-rtvariable-smbios-systemparameters">Stuck on <code>OCS: No schema for DSDT, KernelAndKextPatch, RtVariable, SMBIOS, SystemParameters...</code></h2>
<p>This is due to either using a Clover config with OpenCore or using a configurator such as Mackie&apos;s Clover and OpenCore configurator. You&apos;ll need to start over and make a new config or figure out all the garbage you need to remove from your config. <strong>This is why we don&apos;t support configurators, they are known for these issues</strong></p>
<h2 id="stuck-on-oc-driver-xxxefi-at-0-cannot-be-found">Stuck on <code>OC: Driver XXX.efi at 0 cannot be found</code></h2>
<p>Verify that your EFI/OC/Drivers matches up with your config.plist -&gt; UEFi -&gt; Drivers</p>
<h2 id="stuck-on-buffer-too-small">Stuck on <code>Buffer Too Small</code></h2>
<ul>
<li><code>UEFI -&gt; Quirks -&gt; AvoidHighAlloc -&gt; Enable</code></li>
<li>Enable Above4GDecoding in the BIOS</li>
</ul>
<h2 id="stuck-on-plist-only-kext-has-cfbundleexecutable-key">Stuck on <code>Plist only kext has CFBundleExecutable key</code></h2>
<p>Missing or incorrect <code>Executable path</code></p>
<h2 id="receiving-failed-to-parse-real-field-of-type-1">Receiving &quot;Failed to parse real field of type 1&quot;</h2>
<ul>
<li><p>A value is set as <code>real</code> when it&apos;s not supposed to be, generally being that Xcode converted <code>HaltLevel</code> by accident:</p>
<pre><code class="lang-text">&lt;key&gt;HaltLevel&lt;/key&gt;
</code></pre>
<pre><code class="lang-text">&lt;real&gt;2147483648&lt;/real&gt;
</code></pre>
<p>To fix, swap <code>real</code> for <code>integer</code>:</p>
<pre><code class="lang-text">&lt;key&gt;HaltLevel&lt;/key&gt;
</code></pre>
<pre><code class="lang-text">&lt;integer&gt;2147483648&lt;/integer&gt;
</code></pre>
<h2 id="stuck-after-selection-macos-partition-on-opencore">Stuck after selection macOS partition on OpenCore</h2>
</li>
<li><p>CFG-Lock not off(Intel Users only), couple solutions:</p>
<ul>
<li><a href="../extras/msr-lock.html">Patch your MSR E2</a>(Recommended solution)</li>
<li>Enable <code>AppleXcpmCfgLock</code> and <code>AppleCpuPmCfgLock</code>, this disables <code>PKG_CST_CNFIG_CONTROL</code> within the XNU and AppleIntelCPUPowerManagment repectively. Not recommeneded long term solution as this can cause instability.</li>
</ul>
</li>
<li>AMD kernel patches aren&apos;t working(AMD Users only):<ul>
<li>Either outdated or missing kernel patches</li>
</ul>
</li>
<li>Incompatible keyboard driver:<ul>
<li>Disable <code>PollAppleHotKeys</code> and enable <code>KeySupport</code>, then remove <a href="https://github.com/acidanthera/OpenCorePkg/releases" target="_blank">AppleUsbKbDxe</a> from your config.plist -&gt; UEFI -&gt; Drivers</li>
<li>If the above doesn&apos;t work, reverse: disable <code>KeySupport</code>, then add <a href="https://github.com/acidanthera/OpenCorePkg/releases" target="_blank">AppleUsbKbDxe</a> to your config.plist -&gt; UEFI -&gt; Drivers</li>
</ul>
</li>
</ul>
<h2 id="cant-select-anything-in-the-picker">Can&apos;t select anything in the picker</h2>
<ul>
<li>Incompatible keyboard driver:<ul>
<li>Disable <code>PollAppleHotKeys</code> and enable <code>KeySupport</code>, then remove <a href="https://github.com/acidanthera/OpenCorePkg/releases" target="_blank">AppleUsbKbDxe</a> from your config.plist -&gt; UEFI -&gt; Drivers</li>
<li>If the above doesn&apos;t work, reverse: disable <code>KeySupport</code>, then add <a href="https://github.com/acidanthera/OpenCorePkg/releases" target="_blank">AppleUsbKbDxe</a> to your config.plist -&gt; UEFI -&gt; Drivers</li>
</ul>
</li>
</ul>
<h2 id="stuck-on-this-version-of-mac-os-x-is-not-supported-reason-mac">Stuck on <code>This version of Mac OS X is not supported: Reason Mac...</code></h2>
<p>This error happens when SMBIOS is one no longer supported by that version of macOS, make sure values are set in <code>PlatformInfo-&gt;Generic</code> with <code>Automatic</code> enabled. Reminder of supported SMBIOS:</p>
<ul>
<li>iMac13,x+</li>
<li>iMacPro1,1</li>
<li>MacPro6,1+</li>
<li>MacBook8,1+</li>
<li>MacBookAir5,x+</li>
<li>MacBookPro9,x+</li>
</ul>
<h2 id="couldnt-allocate-runtime-area-errors"><code>Couldn&apos;t allocate runtime area</code> errors?</h2>
<p>See <a href="https://khronokernel-2.gitbook.io/opencore-vanilla-desktop-guide/extras/kalsr-fix" target="_blank">Fixing KALSR slide values</a></p>
<h2 id="ssdts-not-being-added">SSDTs not being added</h2>
<p>So with Opencore, there&apos;s some extra secuirty checks added around ACPI files, specifically that table length header must equal to the file size. This is actually the fault of iASL when you compiled the file. Example of how to find it:</p>
<pre><code>* Original Table Header:
*     Signature        &quot;SSDT&quot;
*     Length           0x0000015D (349)
*     Revision         0x02
*     Checksum         0xCF
*     OEM ID           &quot;ACDT&quot;
*     OEM Table ID     &quot;SsdtEC&quot;
*     OEM Revision     0x00001000 (4096)
*     Compiler ID      &quot;INTL&quot;
*     Compiler Version 0x20190509 (538510601)
</code></pre><p>The <code>Length</code> and <code>checksum</code> value is what we care about, so if our SSDT is actually 347 bytes then we want to change <code>Length</code> to <code>0x0000015B (347)</code>(the <code>015B</code> is in HEX)</p>
<p>Best way to actually fix this is to grab a newer copy of iASL or Acidanthera&apos;s copy of <a href="https://github.com/acidanthera/MaciASL/releases" target="_blank">maciASL</a> and remaking the SSDT</p>
<h2 id="booting-opencore-reboots-to-bios">Booting OpenCore reboots to BIOS</h2>
<ul>
<li>Incorrect EFI folder structure, make sure all of your OC files are within an EFI folder located on your ESP(EFI system partition)</li>
</ul>
<p><img src="https://i.imgur.com/9RyBQ0L.png" alt="Directory Structure from OpenCore&apos;s DOC"></p>
<h1 id="macos-booting">macOS booting</h1>
<ul>
<li>Stuck on <code>RTC...</code>, <code>PCI ConfigurationBegins</code>, <code>Previous Shutdown...</code>, <code>HPET</code>, <code>HID: Legacy...</code></li>
<li>&quot;Waiting for Root Device&quot; or Prohibited Sign error</li>
<li>macOS installer in Russian</li>
<li>Stuck on or near <code>IOConsoleUsers: gIOScreenLock...</code></li>
<li>Black screen after <code>IOConsoleUsers: gIOScreenLock...</code> on Navi</li>
<li>300 series Intel stalling on <code>apfs_module_start...</code></li>
<li>Stalling on <code>apfs_module_start...</code>, <code>Waiting for Root device</code>, <code>Waiting on...IOResources...</code>, <code>previous shutdown cause...</code> in Catalina</li>
<li>Kernel Panic <code>Cannot perform kext summary</code></li>
<li>Kernel Panic <code>AppleIntelMCEReporter</code></li>
<li>Kernel Panic <code>AppleIntelCPUPowerManagement</code></li>
<li>Stop Sign with corrupted text(Still waiting for Root Device)</li>
<li>Frozen in the macOS installer after 30 seconds</li>
<li>15h/16h CPU reboot after Data &amp; Privacy screen</li>
</ul>
<h2 id="stuck-on-rtc-pci-configuration-begins-previous-shutdown-hpet-hid-legacy">Stuck on <code>RTC...</code>, <code>PCI Configuration Begins</code>, <code>Previous Shutdown...</code>, <code>HPET</code>, <code>HID: Legacy...</code></h2>
<p>Well this general area is where a lot of PCI devices are configured, and is where most boot ing issues with AMD hacks happen. The main places to check:</p>
<ul>
<li><strong>Missing EC patch</strong>: <ul>
<li>Make sure you have your EC SSDT both in EFI/OC/ACPI and ACPI -&gt; Add, <strong>double check it&apos;s enabled.</strong></li>
<li>If you don&apos;t have one, grab it here: <a href="https://github.com/khronokernel/Opencore-Vanilla-Desktop-Guide/blob/master/extra-files/SSDT-EC-USBX-AMD.aml" target="_blank">SSDT-EC-USBX-AMD.aml</a></li>
</ul>
</li>
<li><strong>IRQ conflict</strong>: <ul>
<li>Make sure either Above4GDecoding is enabled in the BIOS, if no option availible then add <code>npci=0x2000</code> to boot args. <strong>Do not have both the Above4G setting enabled and npci in boot args, they will conflict</strong></li>
<li>Other BIOS settings that are important: CSM disabled, Windows 8.1/10 UEFI Mode enabled</li>
</ul>
</li>
</ul>
<h2 id="waiting-for-root-device-or-prohibited-sign-error">&quot;Waiting for Root Device&quot; or Prohibited Sign error</h2>
<ul>
<li>Generally seen as a USB error, couple ways to fix:<ul>
<li>if you&apos;re hitting the 15 port limit, you can temporarily get around this with <code>XhciPortLimit</code> but for long term use, we recommend making a <a href="https://github.com/corpnewt/USBMap" target="_blank">USBmap</a>. CorpNewt also has a guide for this: <a href="https://usb-map.gitbook.io/project/" target="_blank">USBmap Guide</a></li>
<li>Another issue can be that certain firmware won&apos;t pass USB ownership to macOS, to fix this we can enable <code>ReleaseUsbOwnership</code>. Clover equivalent is <code>FixOwnership</code></li>
</ul>
</li>
</ul>
<h2 id="macos-installer-in-russian">macOS installer in Russian</h2>
<p>Default sample config is in russian, check your prev-lang:kbd value under NVRAM -&gt; Add -&gt; 7C436110-AB2A-4BBB-A880-FE41995C9F82. Set to <code>656e2d55533a30</code> for American: en-US:0 and a full list can be found in <a href="https://github.com/acidanthera/OcSupportPkg/blob/master/Utilities/AppleKeyboardLayouts/AppleKeyboardLayouts.txt" target="_blank">AppleKeyboardLayouts.txt</a></p>
<p>You may also need to reset NVRAM in the boot picker as well</p>
<h2 id="stuck-on-or-near-ioconsoleusers-gioscreenlock">Stuck on or near <code>IOConsoleUsers: gIOScreenLock...</code></h2>
<p>This is right before the GPU is properly initialized, verify the following:</p>
<ul>
<li>GPU is UEFI capable(GTX 7XX/2013+)</li>
<li>CSM is off in the BIOS</li>
<li>Forcing PCIe 3.0 link speed</li>
</ul>
<h2 id="black-screen-after-ioconsoleusers-gioscreenlock-on-navi">Black screen after <code>IOConsoleUsers: gIOScreenLock...</code> on Navi</h2>
<ul>
<li>Add <code>agdpmod=pikera</code> to boot args</li>
<li>switch between different display outputs</li>
</ul>
<h2 id="300-series-intel-stalling-on-apfsmodulestart">300 series Intel stalling on <code>apfs_module_start...</code></h2>
<p>Commonly due to systems running AWAC clocks, pleas see the <a href="../extras/acpi.html">Getting started with ACPI</a> section</p>
<h2 id="stalling-on-apfsmodulestart-waiting-for-root-device-waiting-onioresources-previous-shutdown-cause-in-catalina">Stalling on <code>apfs_module_start...</code>, <code>Waiting for Root device</code>, <code>Waiting on...IOResources...</code>, <code>previous shutdown cause...</code> in Catalina</h2>
<p>Verify your EC SSDT is enabled and correct for your system. See the <a href="https://www.reddit.com/r/hackintosh/comments/den28t/whats_new_in_macos_catalina/" target="_blank">What&apos;s new in macOS Catalina</a> post for more info</p>
<h2 id="kernel-panic-cannot-perform-kext-summary">Kernel Panic <code>Cannot perform kext summary</code></h2>
<p>Generally seen as an issue surrounding the prelinked kernel, specifically that macOS is having a hard time interpreting the ones we injected. Verify that your kexts are in the correct order(master then plugins, Lilu always being first) and that kexts with executables have them and plist only kexts don&apos;t.</p>
<h2 id="kernel-panic-appleintelmcereporter">Kernel Panic <code>AppleIntelMCEReporter</code></h2>
<p>With macOS catalina, dual socket support is broken, and a fun fact about AMD firmware is that some boards will actually report multiple socketed CPUs. To fix this, add <a href="https://github.com/acidanthera/bugtracker/files/3703498/AppleMCEReporterDisabler.kext.zip" target="_blank">AppleMCEReporterDisabler</a> to both </p>
<h2 id="kernel-panic-appleintelcpupowermanagement">Kernel Panic <code>AppleIntelCPUPowerManagement</code></h2>
<p>This is likely due to faultly or outright missing NullCPUPowerManagement, the one hosted on AMD OSX&apos;s Vanilla Guide is corrupted. Go yell at Shannee to fix it. To fix the issue, either download a good copy from the <a href="http://kexts.goldfish64.com/" target="_blank">Kext Repo</a> or here: <a href="https://github.com/khronokernel/Opencore-Vanilla-Desktop-Guide/blob/master/extra-files/NullCPUPowerManagment.kext.zip" target="_blank">NullCPUPowerManagment.kext.zip</a></p>
<h2 id="stop-sign-with-corrupted-textstill-waiting-for-root-device">Stop Sign with corrupted text(Still waiting for Root Device)</h2>
<p>With OS X 10.11 El Capitan, Apple imposed a 15 USB port limit. To get around this we actually create a USB map to include ports we want and kick out extras we don&apos;t care about. For install, set <code>Kernel -&gt; Quirks -&gt; XhciPortLimit -&gt; Enabled</code> but for post install we recommend making a map as the port limit patch isn&apos;t guaranteed to work with future versions of macOS.</p>
<p>For 15h and 16h AMD CPUs, you may need to add the following:</p>
<ul>
<li><a href="https://cdn.discordapp.com/attachments/566705665616117760/566728101292408877/XLNCUSBFix.kext.zip" target="_blank">XLNCUSBFix.kext</a></li>
</ul>
<p>If XLNCUSBFix still doesn&apos;t work, then try the following:</p>
<ul>
<li><a href="https://cdn.discordapp.com/attachments/249992304503291905/355235241645965312/StopSign-fixv5.zip" target="_blank">AMD StopSign-fixv5</a></li>
</ul>
<h2 id="frozen-in-the-macos-installer-after-30-seconds">Frozen in the macOS installer after 30 seconds</h2>
<p>This is likely due to faultly or outright missing NullCPUPowerManagement, the one hosted on AMD OSX&apos;s Vanilla Guide is corrupted. Go yell at Shannee to fix it. To fix the issue, either download a good copy from the <a href="http://kexts.goldfish64.com/" target="_blank">Kext Repo</a> or here: <a href="https://github.com/khronokernel/Opencore-Vanilla-Desktop-Guide/blob/master/extra-files/NullCPUPowerManagment.kext.zip" target="_blank">NullCPUPowerManagment.kext.zip</a></p>
<h2 id="15h16h-cpu-reboot-after-data--privacy-screen">15h/16h CPU reboot after Data &amp; Privacy screen</h2>
<p>Follow directions here after UPDATE 2: <a href="https://www.insanelymac.com/forum/topic/335877-amd-mojave-kernel-development-and-testing/?do=findComment&amp;comment=2658085" target="_blank">Fix Data and Privacy reboot</a></p>
<h2 id="macos-frozen-right-before-login">macOS frozen right before login</h2>
<p>This is a common example of screwed up TSC, for most system add <a href="https://bitbucket.org/RehabMan/VoodooTSCSync/downloads/" target="_blank">VoodooTSCSync</a></p>
<p>For Skylake-X, many firmwares including Asus and EVGA won&apos;t write to all cores. So we&apos;ll need to reset the TSC on cold boot and wake with <a href="https://github.com/interferenc/TSCAdjustReset" target="_blank">TSCAdjustReset</a>. Compiled version can be found here: <a href="https://github.com/khronokernel/Opencore-Vanilla-Desktop-Guide/blob/master/extra-files/TSCAdjustReset.kext.zip" target="_blank">TSCAdjustReset.kext</a>. Note that you <strong>must</strong> open up the kext(ShowPackageContents in finder, <code>Contents -&gt; Info.plist</code>) and change the Info.plist -&gt; <code>IOKitPersonalities -&gt; IOPropertyMatch -&gt; IOCPUNumber</code> to the number of CPU threads you have starting from <code>0</code>(i9 7980xe 18 core would be <code>35</code> as it has 36 threads total)</p>
<p><img src="https://cdn.discordapp.com/attachments/478720084072988672/669453323589386254/IMG_20200122_090803.jpg" alt=""></p>
<h1 id="macos-post-install">macOS post-install</h1>
<ul>
<li><a href="troubleshooting.html#Broken-iMessage-and-Siri">Broken iMessage and Siri</a></li>
<li>No on-board audio</li>
<li>BIOS reset or sent into Safemode after reboot/shutdown?</li>
<li>macOS GPU acceleration missing on AMD X570</li>
<li>DRM Broken</li>
<li>&quot;Memory Modules Misconfigured&quot; on MacPro7,1</li>
<li>Apps crashing on AMD</li>
</ul>
<h2 id="broken-imessage-and-siri">Broken iMessage and Siri</h2>
<ul>
<li>En0 device not setup as <code>Built-in</code>, couple ways to fix:<ul>
<li>Find PCI path for your NIC with <a href="https://github.com/acidanthera/gfxutil/releases" target="_blank">gfxutil</a>(ie: <code>ethernet</code>, GBE1, ). Then via DeviceProperties in your config.plist, apply the property of <code>built-in</code> with the value of <code>01</code> and type <code>Data</code>. Hackintool can also grab the PCIRooth path if you&apos;re having issues with gfxutil. <strong>Recommended method</strong></li>
<li><a href="https://bitbucket.org/RehabMan/os-x-null-ethernet/downloads/" target="_blank">NullEthernet.kext</a> + <a href="https://github.com/RehabMan/OS-X-Null-Ethernet/blob/master/ssdt-rmne.aml" target="_blank">SSDT-RMNE</a>. <strong>Only recommended when first solution doesn&apos;t work</strong></li>
</ul>
</li>
</ul>
<p><img src="https://i.imgur.com/DtYtwCQ.png" alt=""></p>
<p>If these fixes do not work, see the <a href="../post-install/iservices.html">Fixing iServices page</a> for more in-depth guide.</p>
<h2 id="no-on-board-audio">No on-board audio</h2>
<ul>
<li>Verify that your PCIRoot is correct for your audio controller, this can be verified with <a href="https://github.com/acidanthera/gfxutil/releases" target="_blank">gfxutil</a> though keep in mind that not all audio controllers are named HDEF. Verfy what yours is via IORegistryExplorer(Common 2 are HDEF and HDAS)</li>
</ul>
<pre><code class="lang-text">path/to/gfxutil -f HDEF
</code></pre>
<p>  Then add this PCIRoot with the child <code>layout-id</code> to your config.plist under DeviceProperties -&gt; Add:</p>
<p>  <img src="https://i.imgur.com/oV3xqta.png" alt=""></p>
<p>Then find out your layout-id for your specific codec: <a href="https://github.com/acidanthera/applealc/wiki/supported-codecs" target="_blank">AppleALC&apos;s supported codec</a></p>
<p>For this example, we&apos;ll find the layout-id for ALC1150. Looking at the supported list we&apos;re given the following:</p>
<pre><code class="lang-text">0x100001, layout 1, 2, 3, 5, 7, 11
</code></pre>
<p><code>0x100001</code> refers to the codc revision, you can ignore this. For us what we care about is <code>layout 1, 2, 3, 5, 7, 11</code>, we want to test each one individually until you find a layout that works best for you. Remember that the DeviceProperty is in HEX, converting 5 to HEX becomes <code>05000000</code>  and converting 11 to HEX becomes <code>0B000000</code> .</p>
<p>Alternative is using <code>alcid=xxx</code> in your boot-args and replace <code>xxx</code> with your layout-id</p>
<h2 id="bios-reset-or-sent-into-safemode-after-rebootshutdown">BIOS reset or sent into Safemode after reboot/shutdown?</h2>
<p>Issue with AppleRTC, quite a simple fix:</p>
<ul>
<li>Under <code>Kernel -&gt; patch</code>:</li>
</ul>
<table>
<thead>
<tr>
<th style="text-align:left">Enabled</th>
<th style="text-align:left">String</th>
<th style="text-align:left">YES</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">Count</td>
<td style="text-align:left">Number</td>
<td style="text-align:left">1</td>
</tr>
<tr>
<td style="text-align:left">Identifier</td>
<td style="text-align:left">String</td>
<td style="text-align:left">com.apple.driver.AppleRTC</td>
</tr>
<tr>
<td style="text-align:left">Limit</td>
<td style="text-align:left">Nuber</td>
<td style="text-align:left">0</td>
</tr>
<tr>
<td style="text-align:left">Find</td>
<td style="text-align:left">Data</td>
<td style="text-align:left">75330fb7</td>
</tr>
<tr>
<td style="text-align:left">Replace</td>
<td style="text-align:left">Data</td>
<td style="text-align:left">eb330fb7</td>
</tr>
</tbody>
</table>
<h2 id="macos-gpu-acceleration-missing-on-amd-x570">macOS GPU acceleration missing on AMD X570</h2>
<p>Verify the following:</p>
<ul>
<li>GPU is UEFI capable(GTX 7XX/2013+)</li>
<li>CSM is off in the BIOS</li>
<li>Forcing PCIe 3.0 link speed</li>
</ul>
<h2 id="drm-broken">DRM Broken</h2>
<p>With Haswell and newer iGPUs, DRM is outright broken on them with macOS Catalina. This includes iTunes Movies, Apple TV+, Amazon Prime and Netflix, the only fix is getting a supported dGPU preferably Polaris or newer that supports HEVC. </p>
<p>More other GPUs, try different shiki boot args:</p>
<ul>
<li><a href="https://github.com/acidanthera/WhateverGreen/blob/master/Manual/FAQ.Chart.md" target="_blank">WhateverGreen&apos;s DRM Chart</a></li>
</ul>
<h2 id="memory-modules-misconfigured-on-macpro71">&quot;Memory Modules Misconfigured&quot; on MacPro7,1</h2>
<p>Add <a href="https://github.com/IOIIIO/MacProMemoryNotificationDisabler/releases/" target="_blank">MacProMemoryNotificationDisabler kext</a> to EFI/OC/Kexts and <code>Kernel -&gt; Add</code></p>
<h2 id="apps-crashing-on-amd">Apps crashing on AMD</h2>
<p><del>Easy fix, buy Intel</del></p>
<p>So with AMD, whenever Apple calls CPU specific functions the app witll either not work or outright crash. Here are some apps and their &quot;fixes&quot;:</p>
<ul>
<li>Adobe Products don&apos;t always work and there is no fix for lightroom at the moment<ul>
<li>Some fixes can be found here: <a href="https://adobe.amd-osx.com/" target="_blank">Adobe Fixes</a></li>
<li>Do note these fixes just disable functionality, they&apos;re not real fixes</li>
</ul>
</li>
<li>Virtual Machine running off of AppleHV&apos;s framework will not work(ie: Parallels 15, Vmware)<ul>
<li>VirtualBox works fine as its Java based</li>
</ul>
</li>
<li>Docker broken<ul>
<li>Docker toolbox is the only solution as its Java based, many feautures are unavailble with this</li>
</ul>
</li>
<li>Xcode AppleWatch simulator is broken in Catalina<ul>
<li>Mojave works fine</li>
</ul>
</li>
<li>Blender 2.8.0+ won&apos;t work<ul>
<li>2.7.9 is last good version</li>
</ul>
</li>
<li>15/16h CPU webpages crashing<ul>
<li>Follow directions here after UPDATE 5: <a href="https://www.insanelymac.com/forum/topic/335877-amd-mojave-kernel-development-and-testing/?do=findComment&amp;comment=2661857" target="_blank">Fix webpages</a></li>
</ul>
</li>
</ul>
<h1 id="other-issues">Other issues</h1>
<ul>
<li>Can&apos;t run <code>acpidump.efi</code></li>
<li>Fixing SSDTTime: <code>Could not locate or download iasl!</code></li>
<li>Fix Python: <code>Python is not installed or not found on PATH</code></li>
<li>Windows Startup Disk can&apos;t see APFS drives</li>
<li>Incorrect resolution with OpenCore</li>
</ul>
<h2 id="cant-run-acpidumpefi">Can&apos;t run <code>acpidump.efi</code></h2>
<p>Call upon OpenCore shell:</p>
<pre><code class="lang-text">shell&gt; fs0: //replace with proper drive

fs0:\&gt; dir //to verify this is the right directory

  Directory of fs0:\

   01/01/01 3:30p  EFI

fs0:\&gt; cd EFI\OC\Tools //note that its with forward slashes

fs0:\EFI\OC\Tools&gt; acpidump.efi -b -n DSDT -z
</code></pre>
<h2 id="fixing-ssdttime-could-not-locate-or-download-iasl">Fixing SSDTTime: <code>Could not locate or download iasl!</code></h2>
<p>This is usually due to an outdated version of Python, try either updating Python or add iasl to the scripts folder for SSDTTime:</p>
<ul>
<li><a href="https://bitbucket.org/RehabMan/acpica/downloads/iasl.zip" target="_blank">iasl macOS version</a></li>
<li><a href="https://acpica.org/sites/acpica/files/iasl-win-20180105.zip" target="_blank">iasl Windows version</a></li>
<li><a href="http://amdosx.kellynet.nl/iasl.zip" target="_blank">iasl Linux version</a></li>
</ul>
<h2 id="fix-python-python-is-not-installed-or-not-found-on-path">Fix Python: <code>Python is not installed or not found on PATH</code></h2>
<p>Easy fix, download and install the latest python:</p>
<ul>
<li><a href="https://www.python.org/downloads/macos" target="_blank">macOS link</a></li>
<li><a href="https://www.python.org/downloads/windows/" target="_blank">Windows link</a></li>
<li><a href="https://www.python.org/downloads/source/" target="_blank">Linux link</a></li>
</ul>
<p>Make sure <code>Add Python to PATH</code></p>
<p><img src="https://cdn.discordapp.com/attachments/456913818467958789/668209828958830613/unknown.png" alt=""></p>
<h2 id="windows-startup-disk-cant-see-apfs-drives">Windows Startup Disk can&apos;t see APFS drives</h2>
<ul>
<li>Outdated Bootcamp drivers(generally ver 6.0 will come with brigadier, BootCamp Utility in macOS provides newer version like ver 6.1). CorpNewt has also forked brigadier fixing these issues as well: <a href="https://github.com/corpnewt/brigadier" target="_blank">CorpNewt&apos;s brigadier</a></li>
</ul>
<h2 id="incorrect-resolution-with-opencore">Incorrect resolution with OpenCore</h2>
<ul>
<li>Follow <a href="verbose.html">Hiding Verbose</a> for correct setup, set <code>UIScale</code> to <code>02</code> for HiDPI</li>
<li>Users also have noticed that setting <code>ConsoleMode</code> to Max will sometimes fail, leaving it empty can help</li>
</ul>

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="../post-install/security.html" class="navigation navigation-prev " aria-label="Previous page: Security and FileVault">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="debug.html" class="navigation navigation-next " aria-label="Next page: OpenCore Debugging">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"General Troubleshooting","level":"4.1","depth":1,"next":{"title":"OpenCore Debugging","level":"4.2","depth":1,"path":"troubleshooting/debug.md","ref":"troubleshooting/debug.md","articles":[]},"previous":{"title":"Security and FileVault","level":"3.3","depth":1,"path":"post-install/security.md","ref":"post-install/security.md","articles":[]},"dir":"ltr"},"config":{"plugins":["theme-default","-lunr","-search","search-plus","addcssjs","favicon-plus"],"styles":{"ebook":"styles/ebook.css","epub":"styles/epub.css","mobi":"styles/mobi.css","pdf":"styles/pdf.css","print":"styles/print.css","website":"styles/website.css"},"pluginsConfig":{"output":"_book","addcssjs":{"css":[],"js":[]},"fontsettings":{"theme":"night","family":"sans","size":2},"favicon-plus":{"appleTouchIconPrecomposed152":"","favicon":"","output":"_book"},"highlight":{},"favicon":"/icons/favicon.ico","appleTouchIconPrecomposed152":"/icons/appleTouchIconPrecomposed152.png","sharing":{"facebook":false,"twitter":false,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":[]},"theme-default":{"showLevel":false,"styles":{"ebook":"styles/ebook.css","epub":"styles/epub.css","mobi":"styles/mobi.css","pdf":"styles/pdf.css","print":"styles/print.css","website":"styles/website.css"}},"search-plus":{}},"theme":"default","pdf":{"pageBreaksBefore":"/","headerTemplate":null,"paperSize":"a4","margin":{"right":62,"left":62,"top":36,"bottom":36},"fontSize":12,"fontFamily":"Arial","footerTemplate":null,"chapterMark":"pagebreak","pageNumbers":false},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"variables":{},"links":{"sharing":{"google":false,"facebook":false,"twitter":false,"weibo":false,"all":false}},"gitbook":"*"},"file":{"path":"troubleshooting/troubleshooting.md","mtime":"2020-02-02T04:52:58.520Z","type":"markdown"},"gitbook":{"version":"3.2.3","time":"2020-02-02T04:53:45.235Z"},"basePath":"..","book":{"language":""}});
        });
    </script>
</div>

        
    
    <script src="../gitbook/gitbook.js"></script>
    <script src="../gitbook/theme.js"></script>
    
        
        <script src="../gitbook/gitbook-plugin-search-plus/jquery.mark.min.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search-plus/search.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-sharing/buttons.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    

    </body>
</html>

